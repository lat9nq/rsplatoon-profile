var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function a(e){e.forEach(n)}function i(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r,s;function l(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}function u(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function d(e,t,n){e.$$.on_destroy.push(u(t,n))}function p(e,t,n,o){if(e){const a=f(e,t,n,o);return e[0](a)}}function f(e,n,o,a){return e[1]&&a?t(o.ctx.slice(),e[1](a(n))):o.ctx}function m(e,t,n,o){if(e[2]&&o){const a=e[2](o(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|a[o];return e}return t.dirty|a}return t.dirty}function h(e,t,n,o,a,i){if(a){const c=f(t,n,o,i);e.p(c,a)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function v(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function b(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function x(){return _(" ")}function C(){return _("")}function T(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function L(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t){e.value=null==t?"":t}function U(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function j(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function I(e){s=e}function D(){if(!s)throw new Error("Function called outside component initialization");return s}function E(e){D().$$.on_mount.push(e)}function M(e,t){D().$$.context.set(e,t)}function H(e){return D().$$.context.get(e)}const O=[],N=[],R=[],Q=[],A=Promise.resolve();let F=!1;function W(e){R.push(e)}const B=new Set;let Y=0;function z(){const e=s;do{for(;Y<O.length;){const e=O[Y];Y++,I(e),K(e.$$)}for(I(null),O.length=0,Y=0;N.length;)N.pop()();for(let e=0;e<R.length;e+=1){const t=R[e];B.has(t)||(B.add(t),t())}R.length=0}while(O.length);for(;Q.length;)Q.pop()();F=!1,B.clear(),I(e)}function K(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(W)}}const q=new Set;let G;function J(){G={r:0,c:[],p:G}}function V(){G.r||a(G.c),G=G.p}function X(e,t){e&&e.i&&(q.delete(e),e.i(t))}function Z(e,t,n,o){if(e&&e.o){if(q.has(e))return;q.add(e),G.c.push((()=>{q.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function ee(e){return"object"==typeof e&&null!==e?e:{}}function te(e){e&&e.c()}function ne(e,t,o,c){const{fragment:r,on_mount:s,on_destroy:l,after_update:u}=e.$$;r&&r.m(t,o),c||W((()=>{const t=s.map(n).filter(i);l?l.push(...t):a(t),e.$$.on_mount=[]})),u.forEach(W)}function oe(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t){-1===e.$$.dirty[0]&&(O.push(e),F||(F=!0,A.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ie(t,n,i,c,r,l,u,d=[-1]){const p=s;I(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:r,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||p.$$.root};u&&u(f.root);let m=!1;if(f.ctx=i?i(t,n.props||{},((e,n,...o)=>{const a=o.length?o[0]:n;return f.ctx&&r(f.ctx[e],f.ctx[e]=a)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](a),m&&ae(t,e)),n})):[],f.update(),m=!0,a(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach($)}else f.fragment&&f.fragment.c();n.intro&&X(t.$$.fragment),ne(t,n.target,n.anchor,n.customElement),z()}I(p)}class ce{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const re=[];function se(t,n=e){let o;const a=new Set;function i(e){if(c(t,e)&&(t=e,o)){const e=!re.length;for(const e of a)e[1](),re.push(e,t);if(e){for(let e=0;e<re.length;e+=2)re[e][0](re[e+1]);re.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(c,r=e){const s=[c,r];return a.add(s),1===a.size&&(o=n(i)||e),c(t),()=>{a.delete(s),0===a.size&&(o(),o=null)}}}}function le(t,n,o){const c=!Array.isArray(t),r=c?[t]:t,s=n.length<2;return l=t=>{let o=!1;const l=[];let d=0,p=e;const f=()=>{if(d)return;p();const o=n(c?l[0]:l,t);s?t(o):p=i(o)?o:e},m=r.map(((e,t)=>u(e,(e=>{l[t]=e,d&=~(1<<t),o&&f()}),(()=>{d|=1<<t}))));return o=!0,f(),function(){a(m),p()}},{subscribe:se(o,l).subscribe};var l}const ue={},de={};function pe(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const fe=function(e,t){const n=[];let o=pe(e);return{get location(){return o},listen(t){n.push(t);const a=()=>{o=pe(e),t({location:o,action:"POP"})};return e.addEventListener("popstate",a),()=>{e.removeEventListener("popstate",a);const o=n.indexOf(t);n.splice(o,1)}},navigate(t,{state:a,replace:i=!1}={}){a={...a,key:Date.now()+""};try{i?e.history.replaceState(a,null,t):e.history.pushState(a,null,t)}catch(n){e.location[i?"replace":"assign"](t)}o=pe(e),n.forEach((e=>e({location:o,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],o=[];return{get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return o[t]},pushState(e,a,i){const[c,r=""]=i.split("?");t++,n.push({pathname:c,search:r}),o.push(e)},replaceState(e,a,i){const[c,r=""]=i.split("?");n[t]={pathname:c,search:r},o[t]=e}}}}()),me=/^:(.+)/;function he(e){return"*"===e[0]}function ge(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function ve(e){return e.replace(/(^\/+|\/+$)/g,"")}function be(e,t){return{route:e,score:e.default?0:ge(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return me.test(e)}(t)?he(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function ye(e,t){let n,o;const[a]=t.split("?"),i=ge(a),c=""===i[0],r=function(e){return e.map(be).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,a=r.length;e<a;e++){const a=r[e].route;let s=!1;if(a.default){o={route:a,params:{},uri:t};continue}const l=ge(a.path),u={},d=Math.max(i.length,l.length);let p=0;for(;p<d;p++){const e=l[p],t=i[p];if(void 0!==e&&he(e)){u["*"===e?"*":e.slice(1)]=i.slice(p).map(decodeURIComponent).join("/");break}if(void 0===t){s=!0;break}let n=me.exec(e);if(n&&!c){const e=decodeURIComponent(t);u[n[1]]=e}else if(e!==t){s=!0;break}}if(!s){n={route:a,params:u,uri:"/"+i.slice(0,p).join("/")};break}}return n||o||null}function $e(e,t){return`${ve("/"===t?e:`${ve(e)}/${ve(t)}`)}/`}function ke(e){let t;const n=e[9].default,o=p(n,e,e[8],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,[a]){o&&o.p&&(!t||256&a)&&h(o,n,e,e[8],t?m(n,e[8],a,null):g(e[8]),null)},i(e){t||(X(o,e),t=!0)},o(e){Z(o,e),t=!1},d(e){o&&o.d(e)}}}function we(e,t,n){let o,a,i,{$$slots:c={},$$scope:r}=t,{basepath:s="/"}=t,{url:l=null}=t;const u=H(ue),p=H(de),f=se([]);d(e,f,(e=>n(6,a=e)));const m=se(null);let h=!1;const g=u||se(l?{pathname:l}:fe.location);d(e,g,(e=>n(5,o=e)));const v=p?p.routerBase:se({path:s,uri:s});d(e,v,(e=>n(7,i=e)));const b=le([v,m],(([e,t])=>{if(null===t)return e;const{path:n}=e,{route:o,uri:a}=t;return{path:o.default?n:o.path.replace(/\*.*$/,""),uri:a}}));return u||(E((()=>fe.listen((e=>{g.set(e.location)})))),M(ue,g)),M(de,{activeRoute:m,base:v,routerBase:b,registerRoute:function(e){const{path:t}=i;let{path:n}=e;if(e._path=n,e.path=$e(t,n),"undefined"==typeof window){if(h)return;const t=function(e,t){return ye([e],t)}(e,o.pathname);t&&(m.set(t),h=!0)}else f.update((t=>(t.push(e),t)))},unregisterRoute:function(e){f.update((t=>{const n=t.indexOf(e);return t.splice(n,1),t}))}}),e.$$set=e=>{"basepath"in e&&n(3,s=e.basepath),"url"in e&&n(4,l=e.url),"$$scope"in e&&n(8,r=e.$$scope)},e.$$.update=()=>{if(128&e.$$.dirty){const{path:e}=i;f.update((t=>(t.forEach((t=>t.path=$e(e,t._path))),t)))}if(96&e.$$.dirty){const e=ye(a,o.pathname);m.set(e)}},[f,g,v,s,l,o,a,i,r,c]}class _e extends ce{constructor(e){super(),ie(this,e,we,ke,c,{basepath:3,url:4})}}const xe=e=>({params:4&e,location:16&e}),Ce=e=>({params:e[2],location:e[4]});function Te(e){let t,n,o,a;const i=[Pe,Le],c=[];function r(e,t){return null!==e[0]?0:1}return t=r(e),n=c[t]=i[t](e),{c(){n.c(),o=C()},m(e,n){c[t].m(e,n),y(e,o,n),a=!0},p(e,a){let s=t;t=r(e),t===s?c[t].p(e,a):(J(),Z(c[s],1,1,(()=>{c[s]=null})),V(),n=c[t],n?n.p(e,a):(n=c[t]=i[t](e),n.c()),X(n,1),n.m(o.parentNode,o))},i(e){a||(X(n),a=!0)},o(e){Z(n),a=!1},d(e){c[t].d(e),e&&$(o)}}}function Le(e){let t;const n=e[10].default,o=p(n,e,e[9],Ce);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,a){o&&o.p&&(!t||532&a)&&h(o,n,e,e[9],t?m(n,e[9],a,xe):g(e[9]),Ce)},i(e){t||(X(o,e),t=!0)},o(e){Z(o,e),t=!1},d(e){o&&o.d(e)}}}function Pe(e){let n,o,a;const i=[{location:e[4]},e[2],e[3]];var c=e[0];function r(e){let n={};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return c&&(n=new c(r())),{c(){n&&te(n.$$.fragment),o=C()},m(e,t){n&&ne(n,e,t),y(e,o,t),a=!0},p(e,t){const a=28&t?function(e,t){const n={},o={},a={$$scope:1};let i=e.length;for(;i--;){const c=e[i],r=t[i];if(r){for(const e in c)e in r||(o[e]=1);for(const e in r)a[e]||(n[e]=r[e],a[e]=1);e[i]=r}else for(const e in c)a[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(i,[16&t&&{location:e[4]},4&t&&ee(e[2]),8&t&&ee(e[3])]):{};if(c!==(c=e[0])){if(n){J();const e=n;Z(e.$$.fragment,1,0,(()=>{oe(e,1)})),V()}c?(n=new c(r()),te(n.$$.fragment),X(n.$$.fragment,1),ne(n,o.parentNode,o)):n=null}else c&&n.$set(a)},i(e){a||(n&&X(n.$$.fragment,e),a=!0)},o(e){n&&Z(n.$$.fragment,e),a=!1},d(e){e&&$(o),n&&oe(n,e)}}}function Se(e){let t,n,o=null!==e[1]&&e[1].route===e[7]&&Te(e);return{c(){o&&o.c(),t=C()},m(e,a){o&&o.m(e,a),y(e,t,a),n=!0},p(e,[n]){null!==e[1]&&e[1].route===e[7]?o?(o.p(e,n),2&n&&X(o,1)):(o=Te(e),o.c(),X(o,1),o.m(t.parentNode,t)):o&&(J(),Z(o,1,1,(()=>{o=null})),V())},i(e){n||(X(o),n=!0)},o(e){Z(o),n=!1},d(e){o&&o.d(e),e&&$(t)}}}function Ue(e,n,o){let a,i,{$$slots:c={},$$scope:r}=n,{path:s=""}=n,{component:l=null}=n;const{registerRoute:u,unregisterRoute:p,activeRoute:f}=H(de);d(e,f,(e=>o(1,a=e)));const m=H(ue);d(e,m,(e=>o(4,i=e)));const h={path:s,default:""===s};let g={},b={};var y;return u(h),"undefined"!=typeof window&&(y=()=>{p(h)},D().$$.on_destroy.push(y)),e.$$set=e=>{o(13,n=t(t({},n),v(e))),"path"in e&&o(8,s=e.path),"component"in e&&o(0,l=e.component),"$$scope"in e&&o(9,r=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&a&&a.route===h&&o(2,g=a.params);{const{path:e,component:t,...a}=n;o(3,b=a)}},n=v(n),[l,a,g,b,i,f,m,h,s,r,c]}class je extends ce{constructor(e){super(),ie(this,e,Ue,Se,c,{path:8,component:0})}}function Ie(e,t,n){const o=e.slice();return o[9]=t[n],o}function De(e){let t,n,o,a;return{c(){t=w("div"),n=w("a"),o=w("button"),o.textContent="Discord Login",L(o,"class","btn btn-primary"),L(o,"type","button"),L(n,"id","loginDiscord"),L(n,"href",a=e[0].loginUrl),L(t,"class","nameentry needtologin")},m(e,a){y(e,t,a),b(t,n),b(n,o)},p(e,t){3&t&&a!==(a=e[0].loginUrl)&&L(n,"href",a)},d(e){e&&$(t)}}}function Ee(e){let t,n,o,i,c,r,s,u,d,p,f,m,h,g,v,k,_,C,P,j,I,D,E,M,H,O,N,R,Q,A,F,W=e[0].profileId&&Me(e);function B(e,t){return e[0].drip?Oe:He}let Y=B(e),z=Y(e),K=e[1].length>0&&Ne(e);return{c(){t=w("div"),n=w("div"),o=w("div"),W&&W.c(),i=x(),c=w("div"),r=w("div"),z.c(),s=x(),u=w("div"),d=w("form"),p=w("div"),f=w("h3"),f.textContent="Username",m=x(),h=w("input"),g=x(),v=w("h3"),v.textContent="Friend Code",k=x(),_=w("input"),C=x(),P=w("div"),j=w("div"),j.innerHTML='<div class="col"><h3 for="template">Card Template</h3></div>',I=x(),D=w("div"),E=w("div"),K&&K.c(),M=x(),H=w("div"),O=w("img"),R=x(),Q=w("button"),Q.textContent="Save",L(o,"class","col"),L(n,"class","row"),U(n,"margin-bottom","14px"),L(r,"class","col-12 col-md-6"),L(f,"for","name"),L(h,"type","text"),L(h,"class","form-control"),L(h,"name","name"),L(h,"id","name"),L(h,"placeholder","In game name"),L(h,"maxlength","10"),L(v,"for","friendcode"),L(_,"type","text"),L(_,"class","form-control"),L(_,"name","friendcode"),L(_,"id","friendcode"),L(_,"placeholder","0000-0000-0000"),L(j,"class","row"),L(E,"class","col-12 col-md-6"),l(O.src,N=e[0].image)||L(O,"src",N),U(O,"width","100%"),L(O,"id","templateimage"),L(O,"alt","template"),L(H,"class","col-12 col-md-6"),L(D,"class","row"),L(P,"class",""),L(Q,"id","submit"),L(Q,"type","submit"),L(Q,"class","btn btn-primary"),L(p,"class","form-group"),L(d,"action","/save"),L(d,"method","post"),L(d,"id","save-form"),L(u,"class","col-12 col-md-6"),L(c,"class","row"),L(t,"class","container")},m(a,l){y(a,t,l),b(t,n),b(n,o),W&&W.m(o,null),b(t,i),b(t,c),b(c,r),z.m(r,null),b(c,s),b(c,u),b(u,d),b(d,p),b(p,f),b(p,m),b(p,h),S(h,e[0].name),b(p,g),b(p,v),b(p,k),b(p,_),S(_,e[0].friendCode),b(p,C),b(p,P),b(P,j),b(P,I),b(P,D),b(D,E),K&&K.m(E,null),b(D,M),b(D,H),b(H,O),b(p,R),b(p,Q),A||(F=[T(h,"input",e[6]),T(_,"input",e[7])],A=!0)},p(e,t){e[0].profileId?W?W.p(e,t):(W=Me(e),W.c(),W.m(o,null)):W&&(W.d(1),W=null),Y===(Y=B(e))&&z?z.p(e,t):(z.d(1),z=Y(e),z&&(z.c(),z.m(r,null))),3&t&&h.value!==e[0].name&&S(h,e[0].name),3&t&&_.value!==e[0].friendCode&&S(_,e[0].friendCode),e[1].length>0?K?K.p(e,t):(K=Ne(e),K.c(),K.m(E,null)):K&&(K.d(1),K=null),3&t&&!l(O.src,N=e[0].image)&&L(O,"src",N)},d(e){e&&$(t),W&&W.d(),z.d(),K&&K.d(),A=!1,a(F)}}}function Me(e){let t,n,o,a,i,c,r,s,l,u;return{c(){t=w("form"),n=w("label"),n.textContent="Your Profile Link",o=x(),a=w("div"),i=w("input"),r=x(),s=w("span"),s.innerHTML='<button class="btn btn-default" type="button" id="copy-button" data-toggle="tooltip" data-placement="button" title="Copy to Clipboard"><i class="fa fa-copy"></i></button>',L(n,"for","copy-input"),L(i,"type","text"),L(i,"class","form-control"),i.value=c=e[0].baseUrl+"/p/"+e[0].profileId+"?_v="+(new Date).valueOf(),L(i,"id","copy-input"),i.readOnly=!0,L(s,"class","input-group-btn"),L(a,"class","input-group")},m(c,d){y(c,t,d),b(t,n),b(t,o),b(t,a),b(a,i),e[5](i),b(a,r),b(a,s),l||(u=T(a,"click",e[3]),l=!0)},p(e,t){3&t&&c!==(c=e[0].baseUrl+"/p/"+e[0].profileId+"?_v="+(new Date).valueOf())&&i.value!==c&&(i.value=c)},d(n){n&&$(t),e[5](null),l=!1,u()}}}function He(t){let n,o,a,i;return{c(){n=w("div"),n.innerHTML='<h3>No drip</h3> \n                        <a class="btn btn-primary edit-drip" href="/drip" role="button">Edit</a>',o=x(),a=w("img"),l(a.src,i="/css/img/nodrip.png")||L(a,"src","/css/img/nodrip.png"),L(a,"class","drip-pic"),L(a,"alt","drip")},m(e,t){y(e,n,t),y(e,o,t),y(e,a,t)},p:e,d(e){e&&$(n),e&&$(o),e&&$(a)}}}function Oe(e){let t,n,o,a;return{c(){t=w("div"),t.innerHTML='<h3>Your drip</h3> \n                        <a class="btn btn-primary edit-drip" href="/drip" role="button">Edit</a>',n=x(),o=w("img"),l(o.src,a=e[0].drip)||L(o,"src",a),L(o,"class","drip-pic"),L(o,"alt","drip")},m(e,a){y(e,t,a),y(e,n,a),y(e,o,a)},p(e,t){3&t&&!l(o.src,a=e[0].drip)&&L(o,"src",a)},d(e){e&&$(t),e&&$(n),e&&$(o)}}}function Ne(e){let t,n,o,a=e[1],i=[];for(let t=0;t<a.length;t+=1)i[t]=Re(Ie(e,a,t));return{c(){t=w("select");for(let e=0;e<i.length;e+=1)i[e].c();L(t,"class","form-control"),L(t,"name","template"),void 0===e[0].template&&W((()=>e[8].call(t)))},m(a,c){y(a,t,c);for(let e=0;e<i.length;e+=1)i[e].m(t,null);j(t,e[0].template),n||(o=T(t,"change",e[8]),n=!0)},p(e,n){if(2&n){let o;for(a=e[1],o=0;o<a.length;o+=1){const c=Ie(e,a,o);i[o]?i[o].p(c,n):(i[o]=Re(c),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=a.length}3&n&&j(t,e[0].template)},d(e){e&&$(t),k(i,e),n=!1,o()}}}function Re(e){let t,n,o,a=e[9].name+"";return{c(){t=w("option"),n=_(a),t.__value=o=e[9].value,t.value=t.__value},m(e,o){y(e,t,o),b(t,n)},p(e,i){2&i&&a!==(a=e[9].name+"")&&P(n,a),2&i&&o!==(o=e[9].value)&&(t.__value=o,t.value=t.__value)},d(e){e&&$(t)}}}function Qe(t){let n;function o(e,t){return e[0].id?Ee:De}let a=o(t),i=a(t);return{c(){n=w("div"),i.c()},m(e,t){y(e,n,t),i.m(n,null)},p(e,[t]){a===(a=o(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(n,null)))},i:e,o:e,d(e){e&&$(n),i.d()}}}function Ae(e,t,n){let o,{userdata:a={}}=t,{location:i=""}=t,c=[];var r;return E((async()=>{n(1,c=await(async()=>(await fetch("/api/templates")).json())()),jQuery("#save-form").on("submit",(function(){jQuery("#submit").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>  Loading...')}))})),r=()=>{switch(n(0,a.friendCode=function(e=""){e=e.replace(/[^0-9]/g,"");let t="";for(let n=0;n<e.length&&12!==n;n++)4!==n&&8!==n||(t+="-"),t+=e[n];return t}(a.friendCode),a),a.template){case"s3-agent3":n(0,a.image="/css/img/canvas_s3_agent3.png",a);break;case"s3-marie":n(0,a.image="/css/img/canvas_s3_marie.png",a);break;case"s2-chaos-order":n(0,a.image="/css/img/canvas_s2_chaos_order.png",a);break;case"s2-order-chaos":n(0,a.image="/css/img/canvas_s2_order_chaos.png",a);break;case"s2-octavio":n(0,a.image="/css/img/canvas_s2_octavio.png",a);break;case"user-coffee-squid":n(0,a.image="/css/img/canvas_user_coffee_squid.png",a);break;case"s2-black-firefin":n(0,a.image="/css/img/canvas_s2_black_firefin.png",a);break;case"s2-toni-kensa-inverted":n(0,a.image="/css/img/canvas_s2_toni_kensa_inverted.png",a);break;case"s2-toni-kensa":n(0,a.image="/css/img/canvas_s2_toni_kensa.png",a);break;case"s1-blue-orange":n(0,a.image="/css/img/canvas_s1_blue_orange.png",a);break;case"s1-orange-blue":n(0,a.image="/css/img/canvas_s1_orange_blue.png",a);break;case"s2-pink-green":n(0,a.image="/css/img/canvas_s2_pink_green.png",a);break;case"s2-green-pink":n(0,a.image="/css/img/canvas_s2_green_pink.png",a);break;case"s3-indigo-yellow":n(0,a.image="/css/img/canvas_s3_indigo_yellow.png",a);break;case"user-black-gold":n(0,a.image="/css/img/canvas_user_black_gold.png",a);break;case"s3-callie":n(0,a.image="/css/img/canvas_s3_callie.png",a);break;case"s2-sanitized-pink":n(0,a.image="/css/img/canvas_s2_sanitized_pink.png",a);break;default:n(0,a.image="/css/img/canvas_s3_yellow_indigo.png",a)}},D().$$.before_update.push(r),e.$$set=e=>{"userdata"in e&&n(0,a=e.userdata),"location"in e&&n(4,i=e.location)},[a,c,o,function(){console.log("going"),o.focus(),o.select(),document.execCommand("copy")},i,function(e){N[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(){a.name=this.value,n(0,a),n(1,c)},function(){a.friendCode=this.value,n(0,a),n(1,c)},function(){a.template=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,a),n(1,c)}]}class Fe extends ce{constructor(e){super(),ie(this,e,Ae,Qe,c,{userdata:0,location:4})}}function We(t){let n,o,a,i;return{c(){n=w("div"),n.innerHTML="<h3>No drip</h3>",o=x(),a=w("img"),l(a.src,i="/css/img/nodrip.png")||L(a,"src","/css/img/nodrip.png"),L(a,"class","drip-pic"),L(a,"alt","no drip")},m(e,t){y(e,n,t),y(e,o,t),y(e,a,t)},p:e,d(e){e&&$(n),e&&$(o),e&&$(a)}}}function Be(e){let t,n,o,a;return{c(){t=w("div"),t.innerHTML="<h3>Their drip</h3>",n=x(),o=w("img"),l(o.src,a=e[0].drip)||L(o,"src",a),L(o,"class","drip-pic"),L(o,"alt","drip")},m(e,a){y(e,t,a),y(e,n,a),y(e,o,a)},p(e,t){1&t&&!l(o.src,a=e[0].drip)&&L(o,"src",a)},d(e){e&&$(t),e&&$(n),e&&$(o)}}}function Ye(t){let n,o,a,i,c,r,s,l,u,d,p,f,m,h,g,v,k,C,S,j,I,D=(t[0].name?t[0].name:"User")+"";function E(e,t){return e[0].drip?Be:We}let M=E(t),H=M(t);return{c(){n=w("div"),o=w("div"),a=w("div"),i=w("h3"),c=_(D),r=_("'s Profile"),s=x(),l=w("div"),u=w("div"),H.c(),d=x(),p=w("div"),f=w("form"),m=w("h3"),m.textContent="Friend Code",h=x(),g=w("div"),v=w("input"),C=x(),S=w("span"),S.innerHTML='<button class="btn btn-default" type="button" id="copy-button" data-toggle="tooltip" data-placement="button" title="Copy to Clipboard"><i class="fa fa-copy"></i></button>',L(a,"class","col"),L(o,"class","row"),U(o,"margin-bottom","14px"),L(u,"class","col-12 col-md-6"),L(m,"for","copy-input"),L(v,"type","text"),L(v,"class","form-control"),v.value=k=t[0].friendCode,L(v,"id","copy-input"),v.readOnly=!0,L(S,"class","input-group-btn"),L(g,"class","input-group"),L(p,"class","col-12 col-md-6"),L(l,"class","row"),U(l,"margin-bottom","14px"),L(n,"class","container")},m(e,$){y(e,n,$),b(n,o),b(o,a),b(a,i),b(i,c),b(i,r),b(n,s),b(n,l),b(l,u),H.m(u,null),b(l,d),b(l,p),b(p,f),b(f,m),b(f,h),b(f,g),b(g,v),t[5](v),b(g,C),b(g,S),j||(I=T(g,"click",t[2]),j=!0)},p(e,[t]){1&t&&D!==(D=(e[0].name?e[0].name:"User")+"")&&P(c,D),M===(M=E(e))&&H?H.p(e,t):(H.d(1),H=M(e),H&&(H.c(),H.m(u,null))),1&t&&k!==(k=e[0].friendCode)&&v.value!==k&&(v.value=k)},i:e,o:e,d(e){e&&$(n),H.d(),t[5](null),j=!1,I()}}}function ze(e,t,n){let o,{profileId:a=""}=t,{location:i=""}=t,c={};return E((async()=>{n(0,c=await(async e=>(await fetch(`/api/profile/${e}`)).json())(a))})),e.$$set=e=>{"profileId"in e&&n(3,a=e.profileId),"location"in e&&n(4,i=e.location)},[c,o,function(){console.log("going"),o.focus(),o.select(),document.execCommand("copy")},a,i,function(e){N[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class Ke extends ce{constructor(e){super(),ie(this,e,ze,Ye,c,{profileId:3,location:4})}}function qe(e,t,n){const o=e.slice();return o[19]=t[n],o[20]=t,o[21]=n,o}function Ge(e){let t,n,o,a,i,c,r,s,l,u,d,p=e[0].allbots&&e[0].allbots.length&&Je(e);return{c(){t=w("div"),t.innerHTML='<div class="col"><form action="/api/settings/grantkey" method="post" id="save-form"><div class="form-group"><div><h3 for="name">Grant bot key to another user</h3> \n                            <input type="text" class="form-control" name="name" value="" id="name" placeholder="User ID"/></div> \n                        <div class="form-check"><input class="form-check-input" type="checkbox" value="getProfile" name="permissions" style="width:auto"/> \n                            <label class="form-check-label" for="flexCheckDefault">Get Profile</label></div> \n                        <div class="form-check"><input class="form-check-input" type="checkbox" value="saveFriendCode" name="permissions" style="width:auto"/> \n                            <label class="form-check-label" for="flexCheckDefault">Save Friend Code</label></div> \n                        <div class="form-check"><input class="form-check-input" type="checkbox" value="saveUsername" name="permissions" style="width:auto"/> \n                            <label class="form-check-label" for="flexCheckDefault">Save Username</label></div> \n                        <div class="form-check"><input class="form-check-input" type="checkbox" value="saveDrip" name="permissions" style="width:auto"/> \n                            <label class="form-check-label" for="flexCheckDefault">Save Drip</label></div> \n                        <div class="form-check"><input class="form-check-input" type="checkbox" value="deleteProfile" name="permissions" style="width:auto"/> \n                            <label class="form-check-label" for="flexCheckDefault">Delete Profile</label></div> \n                        <button id="submit" type="submit" class="btn btn-primary">Save</button></div></form></div>',n=x(),o=w("div"),a=w("div"),i=w("div"),c=w("div"),r=w("div"),s=w("table"),l=w("thead"),l.innerHTML='<tr><th scope="col">User</th> \n                                        <th scope="col">Get Profile</th> \n                                        <th scope="col">Save FC</th> \n                                        <th scope="col">Save Name</th> \n                                        <th scope="col">Save Drip</th> \n                                        <th scope="col">Delete Profile</th> \n                                        <th scope="col">Team Query</th> \n                                        <th scope="col">Team Webhook</th> \n                                        <th scope="col">Revoked</th> \n                                        <th scope="col">Update</th> \n                                        <th scope="col">Reset</th> \n                                        <th scope="col">Revoke</th></tr>',u=x(),d=w("tbody"),p&&p.c(),L(t,"class","row"),L(s,"class","table table-striped"),L(r,"class","col"),L(c,"class","row no-gutters"),L(i,"class","container"),U(i,"padding","0"),L(a,"class","col"),L(o,"class","row no-gutters"),U(o,"margin-top","14px")},m(e,f){y(e,t,f),y(e,n,f),y(e,o,f),b(o,a),b(a,i),b(i,c),b(c,r),b(r,s),b(s,l),b(s,u),b(s,d),p&&p.m(d,null)},p(e,t){e[0].allbots&&e[0].allbots.length?p?p.p(e,t):(p=Je(e),p.c(),p.m(d,null)):p&&(p.d(1),p=null)},d(e){e&&$(t),e&&$(n),e&&$(o),p&&p.d()}}}function Je(e){let t,n=e[0].allbots,o=[];for(let t=0;t<n.length;t+=1)o[t]=Ve(qe(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=C()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);y(e,t,n)},p(e,a){if(29&a){let i;for(n=e[0].allbots,i=0;i<n.length;i+=1){const c=qe(e,n,i);o[i]?o[i].p(c,a):(o[i]=Ve(c),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){k(o,e),e&&$(t)}}}function Ve(e){let t,n,o,i,c,r,s,l,u,d,p,f,m,h,g,v,k,C,S,j,I,D,E,M,H,O,N,R,Q,A,F,W,B,Y,z,K,q,G,J,V,X,Z,ee,te,ne,oe,ae,ie,ce,re,se,le,ue,de,pe,fe,me,he,ge,ve,be,ye,$e,ke=e[19].userId+"",we=e[19].nobot+"";function _e(){e[7].call(f,e[20],e[21])}function xe(){e[8].call(C,e[20],e[21])}function Ce(){e[9].call(M,e[20],e[21])}function Te(){e[10].call(A,e[20],e[21])}function Le(){e[11].call(K,e[20],e[21])}function Pe(){e[12].call(Z,e[20],e[21])}function Se(){e[13].call(ie,e[20],e[21])}function Ue(){return e[14](e[19])}function je(){return e[15](e[19])}function Ie(){return e[16](e[19])}return{c(){t=w("tr"),n=w("th"),o=_(ke),i=x(),c=w("input"),s=x(),l=w("td"),u=w("div"),d=w("input"),p=x(),f=w("input"),m=x(),h=w("td"),g=w("div"),v=w("input"),k=x(),C=w("input"),S=x(),j=w("td"),I=w("div"),D=w("input"),E=x(),M=w("input"),H=x(),O=w("td"),N=w("div"),R=w("input"),Q=x(),A=w("input"),F=x(),W=w("td"),B=w("div"),Y=w("input"),z=x(),K=w("input"),q=x(),G=w("td"),J=w("div"),V=w("input"),X=x(),Z=w("input"),ee=x(),te=w("td"),ne=w("div"),oe=w("input"),ae=x(),ie=w("input"),ce=x(),re=w("td"),se=_(we),le=x(),ue=w("td"),de=w("button"),de.innerHTML='<i class="fa fa-cloud-upload"></i>',pe=x(),fe=w("td"),me=w("button"),me.innerHTML='<i class="fa fa-refresh"></i>',he=x(),ge=w("td"),ve=w("button"),ve.innerHTML='<i class="fa fa-times"></i>',be=x(),L(c,"type","hidden"),L(c,"name","name"),c.value=r=e[19].userId,L(n,"scope","row"),L(d,"type","hidden"),L(d,"name","getProfile"),d.value="0",L(f,"class","form-check-input"),L(f,"type","checkbox"),f.__value="1",f.value=f.__value,L(f,"name","getProfile"),U(f,"width","auto"),L(u,"class","form-check"),L(v,"type","hidden"),L(v,"name","saveFriendCode"),v.value="0",L(C,"class","form-check-input"),L(C,"type","checkbox"),C.__value="1",C.value=C.__value,L(C,"name","saveFriendCode"),U(C,"width","auto"),L(g,"class","form-check"),L(D,"type","hidden"),L(D,"name","saveUsername"),D.value="0",L(M,"class","form-check-input"),L(M,"type","checkbox"),M.__value="1",M.value=M.__value,L(M,"name","saveUsername"),U(M,"width","auto"),L(I,"class","form-check"),L(R,"type","hidden"),L(R,"name","saveDrip"),R.value="0",L(A,"class","form-check-input"),L(A,"type","checkbox"),A.__value="1",A.value=A.__value,L(A,"name","saveDrip"),U(A,"width","auto"),L(N,"class","form-check"),L(Y,"type","hidden"),L(Y,"name","deleteProfile"),Y.value="0",L(K,"class","form-check-input"),L(K,"type","checkbox"),K.__value="1",K.value=K.__value,L(K,"name","deleteProfile"),U(K,"width","auto"),L(B,"class","form-check"),L(V,"type","hidden"),L(V,"name","teamQuery"),V.value="0",L(Z,"class","form-check-input"),L(Z,"type","checkbox"),Z.__value="1",Z.value=Z.__value,L(Z,"name","teamQuery"),U(Z,"width","auto"),L(J,"class","form-check"),L(oe,"type","hidden"),L(oe,"name","teamWebhook"),oe.value="0",L(ie,"class","form-check-input"),L(ie,"type","checkbox"),ie.__value="1",ie.value=ie.__value,L(ie,"name","teamWebhook"),U(ie,"width","auto"),L(ne,"class","form-check"),L(de,"class","btn btn-primary"),L(de,"type","button"),L(me,"class","btn btn-primary"),L(me,"type","button"),L(fe,"class","text-center"),L(ve,"class","btn btn-primary"),L(ve,"type","button"),L(ge,"class","text-center")},m(a,r){y(a,t,r),b(t,n),b(n,o),b(n,i),b(n,c),b(t,s),b(t,l),b(l,u),b(u,d),b(u,p),b(u,f),f.checked=e[19].getProfile,b(t,m),b(t,h),b(h,g),b(g,v),b(g,k),b(g,C),C.checked=e[19].saveFriendCode,b(t,S),b(t,j),b(j,I),b(I,D),b(I,E),b(I,M),M.checked=e[19].saveUsername,b(t,H),b(t,O),b(O,N),b(N,R),b(N,Q),b(N,A),A.checked=e[19].saveDrip,b(t,F),b(t,W),b(W,B),b(B,Y),b(B,z),b(B,K),K.checked=e[19].deleteProfile,b(t,q),b(t,G),b(G,J),b(J,V),b(J,X),b(J,Z),Z.checked=e[19].teamQuery,b(t,ee),b(t,te),b(te,ne),b(ne,oe),b(ne,ae),b(ne,ie),ie.checked=e[19].teamWebhook,b(t,ce),b(t,re),b(re,se),b(t,le),b(t,ue),b(ue,de),b(t,pe),b(t,fe),b(fe,me),b(t,he),b(t,ge),b(ge,ve),b(t,be),ye||($e=[T(f,"change",_e),T(C,"change",xe),T(M,"change",Ce),T(A,"change",Te),T(K,"change",Le),T(Z,"change",Pe),T(ie,"change",Se),T(de,"click",Ue),T(me,"click",je),T(ve,"click",Ie)],ye=!0)},p(t,n){e=t,1&n&&ke!==(ke=e[19].userId+"")&&P(o,ke),1&n&&r!==(r=e[19].userId)&&(c.value=r),1&n&&(f.checked=e[19].getProfile),1&n&&(C.checked=e[19].saveFriendCode),1&n&&(M.checked=e[19].saveUsername),1&n&&(A.checked=e[19].saveDrip),1&n&&(K.checked=e[19].deleteProfile),1&n&&(Z.checked=e[19].teamQuery),1&n&&(ie.checked=e[19].teamWebhook),1&n&&we!==(we=e[19].nobot+"")&&P(se,we)},d(e){e&&$(t),ye=!1,a($e)}}}function Xe(e){let t,n,o,a,i,c,r,s,l,u,d,p,f,m,h=e[0].teamWebhookAllowed&&Ze(e);return{c(){t=w("div"),n=w("div"),o=w("form"),a=w("label"),a.textContent="Your Bot Key",i=x(),c=w("div"),r=w("input"),l=x(),u=w("span"),u.innerHTML='<button class="btn btn-default" type="button" id="copy-button" data-toggle="tooltip" data-placement="button" title="Copy to Clipboard"><i class="fa fa-copy"></i></button>',d=x(),p=w("div"),p.innerHTML='<form action="/settings/resetkey" method="post"><button class="btn btn-primary" type="submit" style="bottom:4px;position:absolute;"><i class="fa fa-refresh"></i></button></form>',f=x(),h&&h.c(),m=C(),L(a,"for","copy-input"),L(r,"type","text"),L(r,"class","form-control"),r.value=s=e[0].botKey,L(r,"id","copy-input"),r.readOnly=!0,L(u,"class","input-group-btn"),L(c,"class","input-group"),L(c,"onclick","copyToClipboard()"),L(n,"class","col-11"),L(p,"class","col-1"),L(t,"class","row"),U(t,"margin-top","14px")},m(s,g){y(s,t,g),b(t,n),b(n,o),b(o,a),b(o,i),b(o,c),b(c,r),e[17](r),b(c,l),b(c,u),b(t,d),b(t,p),y(s,f,g),h&&h.m(s,g),y(s,m,g)},p(e,t){1&t&&s!==(s=e[0].botKey)&&r.value!==s&&(r.value=s),e[0].teamWebhookAllowed?h?h.p(e,t):(h=Ze(e),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null)},d(n){n&&$(t),e[17](null),n&&$(f),h&&h.d(n),n&&$(m)}}}function Ze(e){let t,n,o,a,i,c,r,s,l;return{c(){t=w("form"),n=w("div"),o=w("div"),a=w("label"),a.textContent="Team Webhook",i=x(),c=w("input"),s=x(),l=w("div"),l.innerHTML='<div class="col"><button class="btn btn-primary" type="submit" style="float:right;">Save Webhook</button></div>',L(a,"for","copy-input"),L(c,"type","text"),L(c,"class","form-control"),L(c,"name","webhook"),c.value=r=e[0].teamWebhookUrl,L(c,"id","webhook"),L(c,"placeholder","Your webhook URL"),L(o,"class","col"),L(n,"class","row"),U(n,"margin-top","14px"),L(l,"class","row"),U(l,"margin-top","14px"),L(t,"action","/api/settings/saveteamwebhook"),L(t,"method","post"),L(t,"id","save-form")},m(e,r){y(e,t,r),b(t,n),b(n,o),b(o,a),b(o,i),b(o,c),b(t,s),b(t,l)},p(e,t){1&t&&r!==(r=e[0].teamWebhookUrl)&&c.value!==r&&(c.value=r)},d(e){e&&$(t)}}}function et(t){let n,o,a=t[0].isAdmin&&Ge(t),i=t[0].botKey&&Xe(t);return{c(){n=w("div"),a&&a.c(),o=x(),i&&i.c(),L(n,"class","container")},m(e,t){y(e,n,t),a&&a.m(n,null),b(n,o),i&&i.m(n,null)},p(e,[t]){e[0].isAdmin?a?a.p(e,t):(a=Ge(e),a.c(),a.m(n,o)):a&&(a.d(1),a=null),e[0].botKey?i?i.p(e,t):(i=Xe(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&$(n),a&&a.d(),i&&i.d()}}}function tt(e,t,n){let o,{userdata:a={}}=t,{location:i=""}=t,c={};async function r(e){const t=c.allbots.filter((t=>t.userId===e))[0];await(async e=>{await fetch("/api/settings/updatekey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(t),window.location.href=window.location.href}async function s(e){await(async e=>{await fetch("/api/settings/resetkey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})})})(e),window.location.href=window.location.href}async function l(e){await(async e=>{await fetch("/api/settings/revokekey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})})})(e),window.location.href=window.location.href}E((async()=>{n(0,c=await(async()=>(await fetch("/api/settings")).json())())}));return e.$$set=e=>{"userdata"in e&&n(5,a=e.userdata),"location"in e&&n(6,i=e.location)},[c,o,r,s,l,a,i,function(e,t){e[t].getProfile=this.checked,n(0,c)},function(e,t){e[t].saveFriendCode=this.checked,n(0,c)},function(e,t){e[t].saveUsername=this.checked,n(0,c)},function(e,t){e[t].saveDrip=this.checked,n(0,c)},function(e,t){e[t].deleteProfile=this.checked,n(0,c)},function(e,t){e[t].teamQuery=this.checked,n(0,c)},function(e,t){e[t].teamWebhook=this.checked,n(0,c)},async e=>await r(e.userId),async e=>await s(e.userId),async e=>await l(e.userId),function(e){N[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class nt extends ce{constructor(e){super(),ie(this,e,tt,et,c,{userdata:5,location:6})}}function ot(t){let n;return{c(){n=w("div"),n.innerHTML='<img src="/css/img/nodrip.png" class="drip-pic" alt="no drip"/>',L(n,"class","drip-img")},m(e,t){y(e,n,t)},p:e,d(e){e&&$(n)}}}function at(e){let t,n,o,a,i,c,r;return{c(){t=w("div"),t.innerHTML='<h3><a href="/"><i class="fa fa-chevron-left"></i></a>\n                        Your drip</h3>',n=x(),o=w("div"),a=w("img"),c=x(),r=w("form"),r.innerHTML='<button type="submit" value="submit"><i class="fa fa-close"></i></button>',l(a.src,i=e[0].drip)||L(a,"src",i),L(a,"class","drip-pic"),L(a,"alt","drip"),L(r,"action","/api/drip/delete"),L(r,"method","post"),L(r,"class","delete-drip"),L(o,"class","drip-img")},m(e,i){y(e,t,i),y(e,n,i),y(e,o,i),b(o,a),b(o,c),b(o,r)},p(e,t){1&t&&!l(a.src,i=e[0].drip)&&L(a,"src",i)},d(e){e&&$(t),e&&$(n),e&&$(o)}}}function it(t){let n,o,a;return{c(){n=w("input"),L(n,"id","image-input"),L(n,"name","drip"),L(n,"type","file"),L(n,"class","btn btn-primary"),L(n,"accept",".jpg,.png,image/jpeg,image/png"),U(n,"width","100%")},m(e,t){y(e,n,t),o||(a=T(n,"change",st),o=!0)},p:e,d(e){e&&$(n),o=!1,a()}}}function ct(t){let n,o,a;return{c(){n=w("h2"),n.textContent="Upload limit reached",o=x(),a=w("div"),a.textContent="Each user is allowed 3 uploads per week. The limit has been reached."},m(e,t){y(e,n,t),y(e,o,t),y(e,a,t)},p:e,d(e){e&&$(n),e&&$(o),e&&$(a)}}}function rt(t){let n,o,a,i,c,r,s,l,u,d,p,f,m,h,g,v;function k(e,t){return e[0].drip?at:ot}let _=k(t),C=_(t);function P(e,t){return e[0].blockupload?ct:it}let S=P(t),j=S(t);return{c(){n=w("div"),o=w("div"),a=w("div"),C.c(),i=x(),c=w("div"),r=w("div"),s=w("h3"),s.innerHTML='<a href="/"><i class="fa fa-chevron-left"></i></a>\n                    New drip',l=x(),u=w("button"),u.textContent="Save Changes",d=x(),p=w("div"),p.innerHTML='<img id="preview" class="drip-pic" alt="drip"/>',f=x(),m=w("div"),h=w("div"),j.c(),L(a,"class","col-12 col-md-6 offset-md-3"),L(a,"id","original-drip"),L(u,"type","button"),L(u,"class","btn btn-primary"),L(u,"id","upload-new-image"),U(u,"display","none"),U(u,"position","absolute"),U(u,"top","5px"),U(u,"right","15px"),L(p,"class","drip-img"),L(c,"class","col-12 col-md-6 offset-md-3"),L(c,"id","new-drip"),U(c,"display","none"),L(o,"class","row"),L(h,"class","col-12 col-md-6 offset-md-3"),L(m,"class","row"),L(n,"class","container")},m(e,$){y(e,n,$),b(n,o),b(o,a),C.m(a,null),b(o,i),b(o,c),b(c,r),b(r,s),b(r,l),b(r,u),b(c,d),b(c,p),b(n,f),b(n,m),b(m,h),j.m(h,null),g||(v=T(u,"click",t[1]),g=!0)},p(e,[t]){_===(_=k(e))&&C?C.p(e,t):(C.d(1),C=_(e),C&&(C.c(),C.m(a,null))),S===(S=P(e))&&j?j.p(e,t):(j.d(1),j=S(e),j&&(j.c(),j.m(h,null)))},i:e,o:e,d(e){e&&$(n),C.d(),j.d(),g=!1,v()}}}function st(e){if(e.target.files){jQuery("#original-drip").hide(),jQuery("#new-drip").show(),jQuery("#upload-new-image").show();let n=e.target.files[0];var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.onload=function(e){var o=t.width,a=t.height;o>a?o>512&&(a*=512/o,o=512):a>512&&(o*=512/a,a=512);var i=document.createElement("canvas");i.width=o,i.height=a,i.getContext("2d").drawImage(t,0,0,o,a);var c=i.toDataURL(n.type);document.getElementById("preview").src=c},t.src=e.target.result},t.readAsDataURL(n)}}function lt(e,t,n){let{userdata:o={}}=t,{location:a=""}=t,i={};return E((async()=>{n(0,i=await(async()=>(await fetch("/api/drip")).json())())})),e.$$set=e=>{"userdata"in e&&n(2,o=e.userdata),"location"in e&&n(3,a=e.location)},[i,async function(){var e=function(e){var t=";base64,";if(-1==e.indexOf(t)){var n=(a=e.split(","))[0].split(":")[1],o=a[1];return new Blob([o],{type:n})}n=(a=e.split(t))[0].split(":")[1];for(var a,i=(o=window.atob(a[1])).length,c=new Uint8Array(i),r=0;r<i;++r)c[r]=o.charCodeAt(r);return new Blob([c],{type:n})}(document.getElementById("preview").src),t=new FormData;t.append("drip",e),jQuery("#upload-new-image").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>  Loading...'),jQuery.ajax({url:"/api/drip/save",data:t,cache:!1,contentType:!1,processData:!1,type:"POST",success(){a.reload()},error(){alert("Upload failed"),a.reload()}})},o,a]}class ut extends ce{constructor(e){super(),ie(this,e,lt,rt,c,{userdata:2,location:3})}}function dt(e){let t,n,o,a,i,c,r;return{c(){t=w("div"),n=w("div"),n.innerHTML='<div style="height:70px;width:1px;"></div> \n\t\t\t\t\t\t<div class="item"><a href="/settings">Settings</a></div> \n\t\t\t\t\t\t<div class="item"><form action="/api/delete" method="post"><input type="hidden" name="delete" value="YES"/> \n\t\t\t\t\t\t\t\t<a href="/" onclick="$(this).closest(&#39;form&#39;).submit();return false;">Delete Profile</a></form></div> \n\t\t\t\t\t\t<div class="item"><a href="/logout">Logout</a></div>',o=x(),a=w("img"),L(n,"class","usermenu"),U(n,"display","none"),l(a.src,i=e[1].avatar)||L(a,"src",i),L(a,"alt","avatar"),L(t,"id","userinfo")},m(i,s){y(i,t,s),b(t,n),b(t,o),b(t,a),c||(r=T(a,"click",e[2]),c=!0)},p(e,t){2&t&&!l(a.src,i=e[1].avatar)&&L(a,"src",i)},d(e){e&&$(t),c=!1,r()}}}function pt(e){let t,n,o,a,i,c,r,s;return t=new je({props:{path:"/drip",component:ut,userdata:e[1]}}),o=new je({props:{path:"/settings",component:nt,userdata:e[1]}}),i=new je({props:{path:"/p/:profileId",component:Ke}}),r=new je({props:{path:"*",component:Fe,userdata:e[1]}}),{c(){te(t.$$.fragment),n=x(),te(o.$$.fragment),a=x(),te(i.$$.fragment),c=x(),te(r.$$.fragment)},m(e,l){ne(t,e,l),y(e,n,l),ne(o,e,l),y(e,a,l),ne(i,e,l),y(e,c,l),ne(r,e,l),s=!0},p(e,n){const a={};2&n&&(a.userdata=e[1]),t.$set(a);const i={};2&n&&(i.userdata=e[1]),o.$set(i);const c={};2&n&&(c.userdata=e[1]),r.$set(c)},i(e){s||(X(t.$$.fragment,e),X(o.$$.fragment,e),X(i.$$.fragment,e),X(r.$$.fragment,e),s=!0)},o(e){Z(t.$$.fragment,e),Z(o.$$.fragment,e),Z(i.$$.fragment,e),Z(r.$$.fragment,e),s=!1},d(e){oe(t,e),e&&$(n),oe(o,e),e&&$(a),oe(i,e),e&&$(c),oe(r,e)}}}function ft(e){let t,n,o,a,i,c,r,s,l,u,d=e[1].id&&dt(e);return l=new _e({props:{url:e[0],$$slots:{default:[pt]},$$scope:{ctx:e}}}),{c(){t=w("main"),n=w("div"),o=w("div"),a=w("div"),a.innerHTML='<a href="https://discord.gg/rsplatoon" target="_blank"><img class="center-block" src="/css/img/logo.png" style="width:300px;height:auto;margin-top:0" alt="logo"/></a> \n\t\t\t\t<h1>Profile</h1>',i=x(),d&&d.c(),c=x(),r=w("a"),r.textContent="Home",s=x(),te(l.$$.fragment),L(r,"class","btn btn-primary"),L(r,"href","/"),L(r,"role","button"),L(o,"class","jumbotron"),L(n,"class","container"),U(n,"margin-bottom","100px"),U(n,"padding-left","0"),U(n,"padding-right","0")},m(e,p){y(e,t,p),b(t,n),b(n,o),b(o,a),b(o,i),d&&d.m(o,null),b(o,c),b(o,r),b(n,s),ne(l,n,null),u=!0},p(e,[t]){e[1].id?d?d.p(e,t):(d=dt(e),d.c(),d.m(o,c)):d&&(d.d(1),d=null);const n={};1&t&&(n.url=e[0]),10&t&&(n.$$scope={dirty:t,ctx:e}),l.$set(n)},i(e){u||(X(l.$$.fragment,e),u=!0)},o(e){Z(l.$$.fragment,e),u=!1},d(e){e&&$(t),d&&d.d(),oe(l)}}}function mt(e,t,n){let{url:o=""}=t,a={};E((async()=>n(1,a=await(async()=>(await fetch("/api/user")).json())())));return e.$$set=e=>{"url"in e&&n(0,o=e.url)},[o,a,()=>jQuery(".usermenu").slideToggle()]}return new class extends ce{constructor(e){super(),ie(this,e,mt,ft,c,{url:0})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
